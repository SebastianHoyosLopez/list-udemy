{"version":3,"sources":["firebase.js","App.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","React","useState","tareas","setTareas","tarea","setTarea","modoEdicion","setModoEdicion","id","setId","useEffect","a","db","firestore","collection","get","data","arrayData","docs","map","doc","console","log","obtenerDatos","agregar","e","preventDefault","trim","nuevaTarea","name","fecha","Date","now","add","eliminar","delete","arrayFiltrado","filter","item","editar","update","arrayEditado","className","onClick","activarEdicion","onSubmit","type","placeholder","onChange","target","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4eb2b55.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/firestore'\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDw421MY7I7RbkVby3eMTcKNqXY5eVi7Pg\",\r\n  authDomain: \"crud-udemy-react-d0a05.firebaseapp.com\",\r\n  projectId: \"crud-udemy-react-d0a05\",\r\n  storageBucket: \"crud-udemy-react-d0a05.appspot.com\",\r\n  messagingSenderId: \"694412296471\",\r\n  appId: \"1:694412296471:web:31c57a6950266f1e37b752\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport {firebase}","import React from \"react\";\nimport { firebase } from \"./firebase\";\n\nfunction App() {\n  const [tareas, setTareas] = React.useState([]);\n  const [tarea, setTarea] = React.useState(\"\");\n  const [modoEdicion, setModoEdicion] = React.useState(false);\n  const [id, setId] = React.useState(\"\");\n\n  React.useEffect(() => {\n    const obtenerDatos = async () => {\n      try {\n        const db = firebase.firestore();\n        const data = await db.collection(\"tareas\").get();\n        const arrayData = data.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        console.log(arrayData);\n        setTareas(arrayData);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    obtenerDatos();\n  }, []);\n\n  const agregar = async (e) => {\n    e.preventDefault();\n\n    if (!tarea.trim()) {\n      console.log(\"esta vacio\");\n      return;\n    }\n\n    try {\n      const db = firebase.firestore();\n      const nuevaTarea = {\n        name: tarea,\n        fecha: Date.now(),\n      };\n      const data = await db.collection(\"tareas\").add(nuevaTarea);\n      setTareas([...tareas, { ...nuevaTarea, id: data.id }]);\n\n      setTarea(\"\");\n    } catch (error) {\n      console.log(error);\n    }\n\n    console.log(tarea);\n  };\n\n  const eliminar = async (id) => {\n    try {\n      const db = firebase.firestore();\n      await db.collection(\"tareas\").doc(id).delete();\n      const arrayFiltrado = tareas.filter((item) => item.id !== id);\n      setTareas(arrayFiltrado);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const activarEdicion = (item) => {\n    setModoEdicion(true);\n    setTarea(item.name);\n    setId(item.id);\n  };\n\n  const editar = async (e) => {\n    e.preventDefault();\n    if (!tarea.trim()) {\n      console.log(\"vacio\");\n      return;\n    }\n    try {\n      const db = firebase.firestore();\n      await db.collection(\"tareas\").doc(id).update({\n        name: tarea,\n      });\n\n      const arrayEditado = tareas.map((item) =>\n        item.id === id ? { id: item.id, fecha: item.fecha, name: tarea } : item\n      );\n      setTareas(arrayEditado);\n      setModoEdicion(false);\n      setTarea(\"\");\n      setId(\"\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"container mt-3\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            {tareas.map((item) => (\n              <li\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\n                key={item.id}\n              >\n                {item.name}\n                <div>\n                  <button\n                    className=\"btn btn-danger btn-sm\"\n                    onClick={() => eliminar(item.id)}\n                  >\n                    Eliminar\n                  </button>\n                  <button\n                    className=\"btn btn-warning btn-sm mx-2\"\n                    onClick={() => activarEdicion(item)}\n                  >\n                    Editar\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <h3>{modoEdicion ? \"Editar Tarea\" : \"Agregar Tarea\"}</h3>\n          <form onSubmit={modoEdicion ? editar : agregar}>\n            <input\n              type=\"text\"\n              placeholder=\"Ingrese Tarea\"\n              className=\"form-control mb-2\"\n              onChange={(e) => setTarea(e.target.value)}\n              value={tarea}\n            />\n            <button\n              className={\n                modoEdicion\n                  ? \"btn btn-warning btn-block\"\n                  : \"btn btn-dark btn-block\"\n              }\n              type=\"submit\"\n            >\n              {modoEdicion ? \"Editar\" : \"Agregar\"}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}